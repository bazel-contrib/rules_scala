# direct_scalapb_proto_library

This is the direct scalapb proto library. This will give you fuller/richer control of interactions between your code and scalapb. For most users unless you need more features not available it is a good idea to stick to the `scalapb_proto_library` as it is more ergonomic to use and likely will result in greater bazel cache hits.

To use this rule, you'll first need to add the following to your `WORKSPACE` file:

```python
load("@io_bazel_rules_scala//scala_proto:scala_proto.bzl", "scala_proto_repositories")
scala_proto_repositories(scala_version = "2.12.8") # or whatever scala_version you're on
```

Then you can import `direct_scalapb_proto_library` in any `BUILD` file like this:

```python
load("@io_bazel_rules_scala//scala_proto:scala_proto.bzl", "direct_scalapb_proto_library")
direct_scalapb_proto_library(
    name,
    deps,
    scalapb_flags,
    scalac_jvm_flags
)
```

`direct_scalapb_proto_library` generates a Scala library of Scala proto bindings
generated by the [ScalaPB compiler](https://github.com/scalapb/ScalaPB).

<table class="table table-condensed table-bordered table-params">
  <colgroup>
    <col class="col-param" />
    <col class="param-description" />
  </colgroup>
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <p><code>Name, required</code></p>
        <p>A unique name for this target</p>
      </td>
    <tr>
      <td><code>srcs</code></td>
      <td>
        <p><code>List of labels, required</code></p>
        <p>Direct dependencies of protobufs, and user written scala files that are needed for direct compilation.</p>
      </td>
    <tr>
      <td><code>deps</code></td>
      <td>
        <p><code>List of labels, required</code></p>
        <p>List of dependencies for this target. Must either be of type:
        <ol><li> <code>proto_library</code>
           indirect protobuf dependencies
           </li>
        <li>targets providing <a href="https://docs.bazel.build/versions/master/skylark/lib/JavaInfo.html">JAVA_INFO</a>.<br>
           e.g. <code>java_library</code>, <code>scala_library</code></li>
        </ol>
       </p>
      </td>
    </tr>
    <tr>
      <td><code>scalapb_flags</code></td>
      <td>
        <p><code>List of strings; optional</code></p>
        <p>List of flags to pass to scalapb.</p>
      </td>
    </tr>
    <tr>
      <td><code>scalac_jvm_flags</code></td>
      <td>
        <p><code>List of strings; optional</code></p>
        <p>List of JVM flags to pass to the underlying <code>scala_library</code> attribute</p>
      </td>
    </tr>
  </tbody>
</table>