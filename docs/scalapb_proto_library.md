# scalapb_proto_library

To use this rule, you'll first need to add the following to your `WORKSPACE` file:

```python
load("@io_bazel_rules_scala//scala_proto:scala_proto.bzl", "scala_proto_repositories")
scala_proto_repositories(scala_version = "2.12.8") # or whatever scala_version you're on
```

Then you can import `scalapb_proto_library` in any `BUILD` file like this:

```python
load("@io_bazel_rules_scala//scala_proto:scala_proto.bzl", "scalapb_proto_library")
scalapb_proto_library(
    name,
    deps,
    with_grpc,
    with_java,
    with_flat_package,
    with_single_line_to_string,
    scalac_jvm_flags
)
```

`scalapb_proto_library` generates a Scala library of Scala proto bindings
generated by the [ScalaPB compiler](https://github.com/scalapb/ScalaPB).

<table class="table table-condensed table-bordered table-params">
  <colgroup>
    <col class="col-param" />
    <col class="param-description" />
  </colgroup>
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <p><code>Name, required</code></p>
        <p>A unique name for this target</p>
      </td>
    <tr>
      <td><code>deps</code></td>
      <td>
        <p><code>List of labels, required</code></p>
        <p>List of dependencies for this target. Must either be of type <code>proto_library</code> or <code>java_proto_library</code> (allowed only if <code>with_java</code> is enabled) </p>
      </td>
    </tr>
    <tr>
      <td><code>with_grpc</code></td>
      <td>
        <p><code>boolean; optional (default False)</code></p>
        <p>Enables generation of grpc service bindings for services defined in <code>deps</code></p>
      </td>
    </tr>
    <tr>
      <td><code>with_java</code></td>
      <td>
        <p><code>boolean; optional (default False)</code></p>
        <p>Enables generation of converters to and from java protobuf bindings. If you set this to <code>True</code> make sure that you pass the corresponding <code>java_proto_library</code> target in <code>deps</code></p>
      </td>
    </tr>
    <tr>
      <td><code>with_flat_package</code></td>
      <td>
        <p><code>boolean; optional (default False)</code></p>
        <p>When true, ScalaPB will not append the protofile base name to the package name</p>
      </td>
    </tr>
    <tr>
      <td><code>with_single_line_to_string</code></td>
      <td>
        <p><code>boolean; optional (default False)</code></p>
        <p>Enables generation of <code>toString()</code> methods that use the single line format</p>
      </td>
    </tr>
    <tr>
      <td><code>scalac_jvm_flags</code></td>
      <td>
        <p><code>List of strings; optional</code></p>
        <p>List of JVM flags to pass to the underlying <code>scala_library</code> attribute</p>
      </td>
    </tr>
  </tbody>
</table>