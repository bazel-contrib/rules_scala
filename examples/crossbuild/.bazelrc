import ../../.bazelrc

# The Bazel Central Registry presubmit jobs in `.bazelci/presubmit.yml` and
# `.bcr/presubmit.yml` use this module. However, those jobs run `bazel
# --nosystem_rc --nohome_rc version` before the `build_flags` and `test_flags`
# attributes apply. (Note this command _doesn't_ use `--noworkspace_rc`.)
#
# Without the following override, `--lockfile_mode=error` still applies, even if
# `--lockfile_mode=update` appears in `build_flags` and `test_flags`. Since
# these jobs run under a matrix of different Bazel versions, most jobs will
# break without this flag. This is because the lock file version generated by a
# specific Bazel version isn't compatible with any other Bazel version.
common --lockfile_mode=update
